{
  "builder": "SIoTRxBuilder",
  "description": "## SPARQL engine action part II\n###This mapping shows how to use the [SPARQL Engine action](https://github.com/helio-ecosystem/helio-action-sparql-engine) for querying RDF data provided by a remote [URL](https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/siotrx/actions/sparql/sample-dataset.nt) using the [HttpProvider]() and also querying a remote [SPARQL endpoint](https://dbpedia.org/sparql) (in this case DBPedia's). Note that multiple URLs providing RDF can be feteched and their data combined before querying the data. Similarly, additional sparql endpoints could be queried at the same time.<br /><br />[SPARQL engine action part III](https://helio-playground.linkeddata.es/tour/SIoTRx%20examples/SPARQL%20engine%20action%20-%20part%20II) shows how configure this action changing several parameters.",
  "user_template": "<#-- Getting RDF from remote endpoint -->\r\n<#assign rdf = providers(\"HttpProvider\", {\"method\" : \"GET\", \"url\" : \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/siotrx\/actions\/sparql\/sample-dataset.nt\"})>\r\n\r\n<#-- Adding a remote SPARQL endpoint to the query-->\r\n<#assign query = \"SELECT ?o ?r WHERE { ?s <https:\/\/schema.org\/givenName> ?o . SERVICE <https:\/\/dbpedia.org\/sparql> {  ?a <http:\/\/xmlns.com\/foaf\/0.1\/name> ?r }  } limit 50\">\r\n\r\n<#-- Setting up the action and running the engine -->\r\n<#assign config = '{\"query\" : \"'+query+'\" }'>\r\n<@action type=\"SparqlEngine\" data=rdf conf=config; result>\r\n[=result]\r\n<\/@action>",
  "solution_template": "<#-- Getting RDF from remote endpoint -->\r\n<#assign rdf = providers(\"HttpProvider\", {\"method\" : \"GET\", \"url\" : \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/siotrx\/actions\/sparql\/sample-dataset.nt\"})>\r\n\r\n<#-- Adding a remote SPARQL endpoint to the query-->\r\n<#assign query = \"SELECT ?o ?r WHERE { ?s <https:\/\/schema.org\/givenName> ?o . SERVICE <https:\/\/dbpedia.org\/sparql> {  ?a <http:\/\/xmlns.com\/foaf\/0.1\/name> ?r }  } limit 50\">\r\n\r\n<#-- Setting up the action and running the engine -->\r\n<#assign config = '{\"query\" : \"'+query+'\" }'>\r\n<@action type=\"SparqlEngine\" data=rdf conf=config; result>\r\n[=result]\r\n<\/@action>",
  "expected_result": "{ \"head\": {\r\n    \"vars\": [ \"o\" , \"r\" ]\r\n  } ,\r\n  \"results\": {\r\n    \"bindings\": [\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"OpenLink Software Inc\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1932 Winter Olympics medals\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1932 armed uprising in Mongolia\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Egypt Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1932\\u201333 FA Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Greek Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Magyar Kupa\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1932\\u201333 Scottish Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1932\\u201333 Welsh Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 All-Ireland Senior Camogie Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 All-Ireland Senior Football Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Baffin Bay earthquake\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Balkan Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Baltic Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Brownlow Medal\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Chatham Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Copa Beccar Varela\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Copa del Presidente de la Rep\u00FAblica\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Datsun Type 12\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Diexi earthquake\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Emperor's Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Emperor's Cup Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 FA Cup Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Grand National\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Long Beach earthquake\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Mitropa Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"National Challenge Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Norwegian Football Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Open Championship\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 PGA Championship\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Palestine Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 Tinchen\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Turkish Football Championship\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933 U.S. Open\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Cupa Rom\u00E2niei\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Egypt Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"FAI Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933\\u201334 FA Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Magyar Kupa\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933\\u201334 Scottish Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1933\\u201334 Welsh Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Central European International Cup\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Nordic Football Championship\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1934 All-Ireland Senior Camogie Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"1934 All-Ireland Senior Football Final\" }\r\n      } ,\r\n      { \r\n        \"o\": { \"type\": \"literal\" , \"value\": \"Carol\" } ,\r\n        \"r\": { \"type\": \"literal\" , \"xml:lang\": \"en\" , \"value\": \"Corralito of Villamontes\" }\r\n      }\r\n    ]\r\n  }\r\n}"
}
