{
    "description": "This mapping has an ODRL privacy policy and the user dont have access to the data. The operator should be gt or lt, depending of the tmp value.",
    "user_template": "<#-- Data access -->\r\n<#assign weatherConf = \"{\\\"url\\\" : \\\"https:\/\/api.open-meteo.com\/v1\/forecast?latitude=40.4050099&longitude=-3.839519&hourly=temperature_2m\\\"}\">\r\n<#assign weather=providers(\"URLProvider\", weatherConf)?eval>\r\n<#assign currentTime = .now?time?keep_before(\":\")>\r\n<#assign tmp=\"ERROR\">\r\n<#list weather.hourly.time as elem>\r\n<#if elem?contains(\"T\"+currentTime) || elem?contains(\"T0\"+currentTime)><#assign tmp=weather.hourly.temperature_2m[elem?index]> <#break><\/#if><\/#list>\r\n \r\n<#-- Declaring ODRL privacy policy -->\r\n<#assign policy>\r\n{\r\n \"@context\": \"http:\/\/www.w3.org\/ns\/odrl.jsonld\",\r\n \"@type\": \"Set\",\r\n \"uid\": \"http:\/\/example.com\/policy:1010\",\r\n \"permission\": [{\r\n \t\"target\": \"http:\/\/iot.device\/asset:9898.data\",\r\n\t\"action\": \"read\",\r\n\t\"constraint\": [{\r\n           \"leftOperand\":  { \r\n                \"@value\": \"[=tmp]\", \r\n                \"@type\": \"xsd:float\" \r\n                },\r\n           \"operator\": \"gt\",\r\n           \"rightOperand\":  { \r\n                \"@value\": \"35\", \r\n                \"@type\": \"xsd:float\" \r\n                }\r\n       } ]\r\n }]\r\n}\r\n<\/#assign>\r\n\r\n<#-- Invoking ODRL interpreter -->\r\n<@action type = \"ODRL\" data=policy; result>\r\n[=result]\r\n<\/@action>",
    "solution_template": "<#-- Data access -->\r\n<#assign weatherConf = \"{\\\"url\\\" : \\\"https:\/\/api.open-meteo.com\/v1\/forecast?latitude=40.4050099&longitude=-3.839519&hourly=temperature_2m\\\"}\">\r\n<#assign weather=providers(\"URLProvider\", weatherConf)?eval>\r\n<#assign currentTime = .now?time?keep_before(\":\")>\r\n<#assign tmp=\"ERROR\">\r\n<#list weather.hourly.time as elem>\r\n<#if elem?contains(\"T\"+currentTime) || elem?contains(\"T0\"+currentTime)><#assign tmp=weather.hourly.temperature_2m[elem?index]> <#break><\/#if><\/#list>\r\n \r\n<#-- Declaring ODRL privacy policy -->\r\n<#assign policy>\r\n{\r\n \"@context\": \"http:\/\/www.w3.org\/ns\/odrl.jsonld\",\r\n \"@type\": \"Set\",\r\n \"uid\": \"http:\/\/example.com\/policy:1010\",\r\n \"permission\": [{\r\n \t\"target\": \"http:\/\/iot.device\/asset:9898.data\",\r\n\t\"action\": \"read\",\r\n\t\"constraint\": [{\r\n           \"leftOperand\":  { \r\n                \"@value\": \"[=tmp]\", \r\n                \"@type\": \"xsd:float\" \r\n                },\r\n           \"operator\": \"gt\",\r\n           \"rightOperand\":  { \r\n                \"@value\": \"35\", \r\n                \"@type\": \"xsd:float\" \r\n                }\r\n       } ]\r\n }]\r\n}\r\n<\/#assign>\r\n\r\n<#-- Invoking ODRL interpreter -->\r\n<@action type = \"ODRL\" data=policy; result>\r\n[=result]\r\n<\/@action>",
    "expected_result": "{}"
}
