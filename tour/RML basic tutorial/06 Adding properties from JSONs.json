{
    "builder": "RmlUnitBuilder",
    "description": "Including properties in the RDF from JSONs may become tricky when the JSON are not plain or flat. In the mapping the values of the JSON are referenced by means of JSON Path expressions (https://jsonpath.com/). For the sample JSON {\"k1\" : 33, \"k2\" : { \"k3\" : 44  }} to access the value of k1 in RML the mapping should specify \"k1\", instead to access k3 the mapping should specify \"k2.k3\". Complete the mapping below for generating triplets containing the names and the surfaces.",
    "user_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix onto: <http://vocab.es/schema#>.\n@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>.\n@base <http://example.com/ns#>.\n\n<#TriplesMap2>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/nested_locations1.json\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#JSONPath> ;\n    rml:iterator \"$.*\"\n  ] ;\n  rr:subjectMap [ \n      rr:template \"http://sample.com/resource/{name}\";\n      rr:termType rr:IRI;\n      rr:class sch:Place\n  ];\n  rr:predicateObjectMap [ \n      rr:predicate  foaf:name;  \n      rr:objectMap [ \n        rml:reference #PLAIN_JSON_FIELD; \n        rr:termType rr:Literal;\n      ] \n    ];\n   rr:predicateObjectMap [ \n    rr:predicate  onto:surface;  \n    rr:objectMap [ \n      rml:reference #NESTED_JSON_FIELD; \n      rr:termType rr:Literal ;\n      rr:datatype xsd:double \n    ] \n  ] .\n",
    "solution_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix onto: <http://vocab.es/schema#>.\n@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>.\n@base <http://example.com/ns#>.\n\n<#TriplesMap2>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/nested_locations1.json\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#JSONPath> ;\n    rml:iterator \"$.*\"\n  ] ;\n  rr:subjectMap [ \n      rr:template \"http://sample.com/resource/{name}\";\n      rr:termType rr:IRI;\n      rr:class sch:Place\n  ];\n  rr:predicateObjectMap [ \n      rr:predicate  foaf:name;  \n      rr:objectMap [ \n        rml:reference \"name\"; \n        rr:termType rr:Literal;\n      ] \n    ];\n   rr:predicateObjectMap [ \n    rr:predicate  onto:surface;  \n    rr:objectMap [ \n      rml:reference \"features.surface.value\"; \n      rr:termType rr:Literal ;\n      rr:datatype xsd:double \n    ] \n  ] .\n",
    "expected_result": "<http://sample.com/resource/Alberta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 3.375E1;\n  <http://xmlns.com/foaf/0.1/name> \"Alberta\" .\n\n<http://sample.com/resource/Bock> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 7.374E1;\n  <http://xmlns.com/foaf/0.1/name> \"Bock\" .\n\n<http://sample.com/resource/Elmhurst> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 1.342E1;\n  <http://xmlns.com/foaf/0.1/name> \"Elmhurst\" .\n\n<http://sample.com/resource/Iowa> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 1.672E2;\n  <http://xmlns.com/foaf/0.1/name> \"Iowa\" .\n\n<http://sample.com/resource/Oneonta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 9.016E1;\n  <http://xmlns.com/foaf/0.1/name> \"Oneonta\" ."
}
