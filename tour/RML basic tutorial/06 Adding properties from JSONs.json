{
    "builder": "RmlUnitBuilder",
    "description": "## Theory\r\nIncluding properties in the RDF from JSONs may become tricky when the JSONs are not plain or flat. In the mapping the values of the JSON are referenced by means of [JSON Path expressions](https:\/\/jsonpath.com\/). \r\nFor the sample JSON to access the value of ***key1*** in RML the mapping should specify **\"k1\"**, instead to access ***nested*** the mapping should specify **\"key2.nested\"**. \r\n\r\n    {\r\n\t    \"key1\" : 33,\r\n\t    \"key2\" : { \r\n\t\t    \"nested\" : 44 \r\n\t\t} \r\n    }\r\n\r\n## Hands-on\r\n### Task\r\nComplete the mapping below for generating triplets containing the names and the surfaces.\r\n### JSON file content\r\n\r\n    [\r\n\t  {\r\n\t    \"name\": \"Oneonta\",\r\n\t    \"features\": {\r\n\t\t    \"surface\": {\r\n\t\t        \"value\": 90.16,\r\n\t\t        \"units\": \"Km2\"\r\n\t\t    },\r\n\t\t    \"population\": {\r\n\t\t        \"amount\": \"1,812\",\r\n\t\t        \"date\": 2018\r\n\t\t    }\r\n\t    },\r\n\t    \"location\": {\r\n\t\t    \"latitude\": \"44.9625428\",\r\n\t\t    \"longitude\": \"-74.4168577\"\r\n\t    }\r\n\t  },\r\n\t  {\r\n\t    \"name\": \"Iowa\",\r\n\t    \"features\": {\r\n\t\t    \"surface\": {\r\n\t\t        \"value\": 167.2,\r\n\t\t        \"units\": \"Km2\"\r\n\t\t    },\r\n\t\t    \"population\": {\r\n\t\t        \"amount\": \"133,611\",\r\n\t\t        \"date\": 2020\r\n\t\t    }\r\n\t    },\r\n\t    \"location\": {\r\n\t\t\t\"latitude\": \"29.6862705\",\r\n\t\t    \"longitude\": \"-82.319746\"\r\n\t    }\r\n\t  }...\r\n\t]\r\n",
    "user_template": "@prefix rr: <http:\/\/www.w3.org\/ns\/r2rml#> .\r\n@prefix rml: <http:\/\/semweb.mmlab.be\/ns\/rml#> .\r\n@prefix ql: <http:\/\/semweb.mmlab.be\/ns\/ql#> .\r\n@prefix transit: <http:\/\/vocab.org\/transit\/terms\/> .\r\n@prefix xsd: <http:\/\/www.w3.org\/2001\/XMLSchema#> .\r\n@prefix foaf: <http:\/\/xmlns.com\/foaf\/0.1\/> .\r\n@prefix sch: <http:\/\/schema.org\/> .\r\n@prefix rdfs: <http:\/\/www.w3.org\/2000\/01\/rdf-schema#> .\r\n@prefix onto: <http:\/\/vocab.es\/schema#> .\r\n@prefix geo: <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#> .\r\n@base <http:\/\/example.com\/ns#> .\r\n\r\n<#TriplesMap2> rml:logicalSource [\r\n\t\trml:source \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.json\" ;\r\n\t\trml:referenceFormulation <http:\/\/semweb.mmlab.be\/ns\/ql#JSONPath> ;\r\n\t\trml:iterator \"$.*\"\r\n\t] ;\r\n\trr:subjectMap [\r\n\t\trr:template \"http:\/\/sample.com\/resource\/{name}\" ;\r\n\t\trr:termType rr:IRI ;\r\n\t\trr:class sch:Place\r\n\t] ;\r\n\trr:predicateObjectMap [\r\n\t\trr:predicate  foaf:name ;\r\n\t\trr:objectMap [\r\n\t\t\trml:reference #PLAIN_JSON_FIELD ;\r\n\t\t\trr:termType rr:Literal ;\r\n\t\t]\r\n\t] ;\r\n\trr:predicateObjectMap [\r\n\t\trr:predicate  onto:surface ;\r\n\t\trr:objectMap [\r\n\t\t\trml:reference #NESTED_JSON_FIELD ;\r\n\t\t\trr:termType rr:Literal ;\r\n\t\t\trr:datatype xsd:double\r\n\t\t]\r\n\t] .",
    "solution_template": "@prefix rr: <http:\/\/www.w3.org\/ns\/r2rml#> .\r\n@prefix rml: <http:\/\/semweb.mmlab.be\/ns\/rml#> .\r\n@prefix ql: <http:\/\/semweb.mmlab.be\/ns\/ql#> .\r\n@prefix transit: <http:\/\/vocab.org\/transit\/terms\/> .\r\n@prefix xsd: <http:\/\/www.w3.org\/2001\/XMLSchema#> .\r\n@prefix foaf: <http:\/\/xmlns.com\/foaf\/0.1\/> .\r\n@prefix sch: <http:\/\/schema.org\/> .\r\n@prefix rdfs: <http:\/\/www.w3.org\/2000\/01\/rdf-schema#> .\r\n@prefix onto: <http:\/\/vocab.es\/schema#> .\r\n@prefix geo: <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#> .\r\n@base <http:\/\/example.com\/ns#> .\r\n\r\n<#TriplesMap2> rml:logicalSource [\r\n\t\trml:source \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.json\" ;\r\n\t\trml:referenceFormulation <http:\/\/semweb.mmlab.be\/ns\/ql#JSONPath> ;\r\n\t\trml:iterator \"$.*\"\r\n\t] ;\r\n\trr:subjectMap [\r\n\t\trr:template \"http:\/\/sample.com\/resource\/{name}\" ;\r\n\t\trr:termType rr:IRI ;\r\n\t\trr:class sch:Place\r\n\t] ;\r\n\trr:predicateObjectMap [\r\n\t\trr:predicate  foaf:name ;\r\n\t\trr:objectMap [\r\n\t\t\trml:reference \"name\" ;\r\n\t\t\trr:termType rr:Literal ;\r\n\t\t]\r\n\t] ;\r\n\trr:predicateObjectMap [\r\n\t\trr:predicate  onto:surface ;\r\n\t\trr:objectMap [\r\n\t\t\trml:reference \"features.surface.value\" ;\r\n\t\t\trr:termType rr:Literal ;\r\n\t\t\trr:datatype xsd:double\r\n\t\t]\r\n\t] .",
    "expected_result": "<http://sample.com/resource/Alberta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 3.375E1;\n  <http://xmlns.com/foaf/0.1/name> \"Alberta\" .\n\n<http://sample.com/resource/Bock> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 7.374E1;\n  <http://xmlns.com/foaf/0.1/name> \"Bock\" .\n\n<http://sample.com/resource/Elmhurst> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 1.342E1;\n  <http://xmlns.com/foaf/0.1/name> \"Elmhurst\" .\n\n<http://sample.com/resource/Iowa> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 1.672E2;\n  <http://xmlns.com/foaf/0.1/name> \"Iowa\" .\n\n<http://sample.com/resource/Oneonta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#surface> 9.016E1;\n  <http://xmlns.com/foaf/0.1/name> \"Oneonta\" ."
}
