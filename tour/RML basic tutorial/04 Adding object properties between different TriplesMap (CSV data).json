{
    "builder": "RmlUnitBuilder",
    "description": "For linking two TripleMap in this example one is defined for people in CSV (https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/people.csv) and another for locations in CSV (https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/locations.csv). Notice that both CSVs have a column with values in common (City and CName); when and if the values from these columns are the same, then the corresponding object property is generated among the subjects of the different TripletMap. Fill in the mapping below to compare these columns and link the subjects from <#TriplesMap2> to <#TriplesMap1> using the predicate foaf:based_near.\n",
    "user_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@base <http://example.com/ns#>.\n\n# First TriplesMap about locations\n<#TriplesMap1> rml:logicalSource [ \n     \t  rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/locations.csv\"; \n          rml:referenceFormulation ql:CSV\n\t];\n\trr:subjectMap [ \n\t  rr:template \"http://sample.com/resource/{CName}\";\n\t  rr:termType rr:IRI;\n  \t] ;\n  \trr:predicateObjectMap [ \n    \t  rr:predicate  foaf:name;  \n    \t  rr:objectMap [ rml:reference \"CName\"; rr:termType rr:Literal;] \n  \t].\n\n\n# Second TriplesMap about people\n<#TriplesMap2> rml:logicalSource [ \n     \t  rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/people.csv\";\n     \t  rml:referenceFormulation ql:CSV\n\t];\n        rr:subjectMap [ \n     \t  rr:termType rr:IRI;\n          rr:template \"http://sample.com/resource/P{ID}\";\n     \t  rr:class foaf:Person\n     \t];\n        rr:predicateObjectMap [ \n     \t  rr:predicate  foaf:name;  \n     \t  rr:objectMap [ \n     \t    rml:reference \"Name\"; rr:termType rr:Literal ;\n     \t    rr:datatype xsd:string\n     \t  ] \n  \t] ;\n  \trr:predicateObjectMap [ \n  \t  rr:predicate #OBJECTPROPERTY_PREDICATE;\n  \t  rr:objectMap [ \n  \t    rr:parentTriplesMap #TRIPLE_MAP1;\n  \t    rr:joinCondition [\n  \t      rr:child #DATAPROPERTY_FROM_TRIPLE_MAP2;  rr:parent #DATAPROPERTY_FROM_TRIPLE_MAP1;   \n  \t    ];\n  \t  ] \n  \t] .\n",
    "solution_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@base <http://example.com/ns#>.\n\n# First TriplesMap about locations\n<#TriplesMap1> rml:logicalSource [ \n     \t  rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/locations.csv\"; \n          rml:referenceFormulation ql:CSV\n\t];\n\trr:subjectMap [ \n\t  rr:template \"http://sample.com/resource/{CName}\";\n\t  rr:termType rr:IRI;\n  \t] ;\n  \trr:predicateObjectMap [ \n    \t  rr:predicate  foaf:name;  \n    \t  rr:objectMap [ rml:reference \"CName\"; rr:termType rr:Literal;] \n  \t].\n\n\n# Second TriplesMap about people\n<#TriplesMap2> rml:logicalSource [ \n     \t  rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/people.csv\";\n     \t  rml:referenceFormulation ql:CSV\n\t];\n        rr:subjectMap [ \n     \t  rr:termType rr:IRI;\n          rr:template \"http://sample.com/resource/P{ID}\";\n     \t  rr:class foaf:Person\n     \t];\n        rr:predicateObjectMap [ \n     \t  rr:predicate  foaf:name;  \n     \t  rr:objectMap [ \n     \t    rml:reference \"Name\"; rr:termType rr:Literal ;\n     \t    rr:datatype xsd:string\n     \t  ] \n  \t] ;\n  \trr:predicateObjectMap [ \n  \t  rr:predicate foaf:based_near;\n  \t  rr:objectMap [ \n  \t    rr:parentTriplesMap <#TriplesMap1>;\n  \t    rr:joinCondition [\n  \t      rr:child \"City\";  rr:parent \"CName\";   \n  \t    ];\n  \t  ] \n  \t] .\n\n\n\n",
    "expected_result": "<http://sample.com/resource/Alberta> <http://xmlns.com/foaf/0.1/name> \"Alberta\" .\n\n<http://sample.com/resource/Bock> <http://xmlns.com/foaf/0.1/name> \"Bock\" .\n\n<http://sample.com/resource/Elmhurst> <http://xmlns.com/foaf/0.1/name> \"Elmhurst\" .\n\n<http://sample.com/resource/Iowa> <http://xmlns.com/foaf/0.1/name> \"Iowa\" .\n\n<http://sample.com/resource/Oneonta> <http://xmlns.com/foaf/0.1/name> \"Oneonta\" .\n\n<http://sample.com/resource/P1> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Oneonta>;\n  <http://xmlns.com/foaf/0.1/name> \"Lily Dickens\" .\n\n<http://sample.com/resource/P2> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Iowa>;\n  <http://xmlns.com/foaf/0.1/name> \"Chadd Sporer\" .\n\n<http://sample.com/resource/P3> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Alberta>;\n  <http://xmlns.com/foaf/0.1/name> \"Katharina Kuvalis\" .\n\n<http://sample.com/resource/P4> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Bock>;\n  <http://xmlns.com/foaf/0.1/name> \"Wilhelmine Johns III\" .\n\n<http://sample.com/resource/P5> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Elmhurst>;\n  <http://xmlns.com/foaf/0.1/name> \"Sofia Rowe\" ."
}
