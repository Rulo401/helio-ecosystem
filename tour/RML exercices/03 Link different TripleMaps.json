{
    "builder": "RmlUnitBuilder",
    "description": "Given the two TripleMap in the mapping below, complete #TriplesMap1 so it has the object property foaf:based_near to #TriplesMap2 relating people and cities.",
    "user_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix onto: <http://vocab.es/schema#>.\n@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>.\n@base <http://example.com/ns#>.\n\n<#TriplesMap1>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/people.csv\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#CSV>\n  ] ;\n  rr:subjectMap [\n    rr:termType rr:IRI ;\n    rr:template \"http://sample.com/resource/P{ID}\" ;\n    rr:class foaf:Person\n  ] ;\n  rr:predicateObjectMap [\n    rr:predicate foaf:name ;\n    rr:objectMap [\n      rml:reference \"Name\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:string\n    ]\n  ]; \n  rr:predicateObjectMap [\n    rr:predicate foaf:phone ;\n    rr:objectMap [\n      rml:reference \"Phone\" ;\n      rr:termType rr:Literal\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate rdfs:seeAlso ;\n    rr:objectMap [ rr:template \"http://dbpedia.org/resource/{City}\" ]\n  ].\n\n<#TriplesMap2>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/plain_locations.json\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#JSONPath> ;\n    rml:iterator \"$.*\"\n  ] ;\n  rr:subjectMap [\n    rr:template \"http://sample.com/resource/{name}\" ;\n    rr:termType rr:IRI ;\n    rr:class sch:Place\n  ] ;\n  rr:predicateObjectMap [\n    rr:predicate sch:name ;\n    rr:objectMap [\n      rml:reference \"name\" ;\n      rr:termType rr:Literal\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate <http://vocab.es/schema#surface> ;\n    rr:objectMap [\n      rml:reference \"surface\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate <http://vocab.es/schema#population> ;\n    rr:objectMap [\n      rml:reference \"population\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate geo:lat ;\n    rr:objectMap [\n      rml:reference \"latitude\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate geo:long ;\n    rr:objectMap [\n      rml:reference \"longitude\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ] .",
    "solution_template": "@prefix rr: <http://www.w3.org/ns/r2rml#>.\n@prefix rml: <http://semweb.mmlab.be/ns/rml#>.\n@prefix ql: <http://semweb.mmlab.be/ns/ql#>.\n@prefix transit: <http://vocab.org/transit/terms/>.\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.\n@prefix foaf: <http://xmlns.com/foaf/0.1/>.\n@prefix sch: <http://schema.org/>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix onto: <http://vocab.es/schema#>.\n@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>.\n@base <http://example.com/ns#>.\n\n<#TriplesMap1>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/people.csv\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#CSV>\n  ] ;\n  rr:subjectMap [\n    rr:termType rr:IRI ;\n    rr:template \"http://sample.com/resource/P{ID}\" ;\n    rr:class foaf:Person\n  ] ;\n  rr:predicateObjectMap [\n    rr:predicate foaf:name ;\n    rr:objectMap [\n      rml:reference \"Name\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:string\n    ]\n  ]; \n  rr:predicateObjectMap [\n    rr:predicate foaf:phone ;\n    rr:objectMap [\n      rml:reference \"Phone\" ;\n      rr:termType rr:Literal\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate rdfs:seeAlso ;\n    rr:objectMap [ rr:template \"http://dbpedia.org/resource/{City}\" ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate foaf:based_near; \n    rr:objectMap [ \n      rr:parentTriplesMap <#TriplesMap2>;\n      rr:joinCondition [\n        rr:child \"City\";  \n        rr:parent \"name\";   \n      ];\n    ]\n  ] .\n\n<#TriplesMap2>\n  rml:logicalSource [\n    rml:source \"https://raw.githubusercontent.com/helio-ecosystem/helio-ecosystem/main/resources/mappings-data/ldac/plain_locations.json\" ;\n    rml:referenceFormulation <http://semweb.mmlab.be/ns/ql#JSONPath> ;\n    rml:iterator \"$.*\"\n  ] ;\n  rr:subjectMap [\n    rr:template \"http://sample.com/resource/{name}\" ;\n    rr:termType rr:IRI ;\n    rr:class sch:Place\n  ] ;\n  rr:predicateObjectMap [\n    rr:predicate sch:name ;\n    rr:objectMap [\n      rml:reference \"name\" ;\n      rr:termType rr:Literal\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate <http://vocab.es/schema#surface> ;\n    rr:objectMap [\n      rml:reference \"surface\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate <http://vocab.es/schema#population> ;\n    rr:objectMap [\n      rml:reference \"population\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate geo:lat ;\n    rr:objectMap [\n      rml:reference \"latitude\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ];\n  rr:predicateObjectMap [\n    rr:predicate geo:long ;\n    rr:objectMap [\n      rml:reference \"longitude\" ;\n      rr:termType rr:Literal ;\n      rr:datatype xsd:double\n    ]\n  ] .",
    "expected_result": "<http://sample.com/resource/Alberta> a <http://schema.org/Place>;\n  <http://schema.org/name> \"Alberta\";\n  <http://vocab.es/schema#population> 1.242E3;\n  <http://vocab.es/schema#surface> 3.375E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.10816094E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -7.64098259E1 .\n\n<http://sample.com/resource/Bock> a <http://schema.org/Place>;\n  <http://schema.org/name> \"Bock\";\n  <http://vocab.es/schema#population> 5.2657E4;\n  <http://vocab.es/schema#surface> 7.374E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.16908535E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -8.59562663E1 .\n\n<http://sample.com/resource/Elmhurst> a <http://schema.org/Place>;\n  <http://schema.org/name> \"Elmhurst\";\n  <http://vocab.es/schema#population> 5.199E3;\n  <http://vocab.es/schema#surface> 1.342E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 3.14199205E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -1.099103821E2 .\n\n<http://sample.com/resource/Iowa> a <http://schema.org/Place>;\n  <http://schema.org/name> \"Iowa\";\n  <http://vocab.es/schema#population> 1.33611E5;\n  <http://vocab.es/schema#surface> 1.672E2;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 2.96862705E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -8.2319746E1 .\n\n<http://sample.com/resource/Oneonta> a <http://schema.org/Place>;\n  <http://schema.org/name> \"Oneonta\";\n  <http://vocab.es/schema#population> 1.812E3;\n  <http://vocab.es/schema#surface> 9.016E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.49625428E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -7.44168577E1 .\n\n<http://sample.com/resource/P1> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://www.w3.org/2000/01/rdf-schema#seeAlso> <http://dbpedia.org/resource/Oneonta>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Oneonta>;\n  <http://xmlns.com/foaf/0.1/name> \"Lily Dickens\";\n  <http://xmlns.com/foaf/0.1/phone> \"585-610-2352\" .\n\n<http://sample.com/resource/P2> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://www.w3.org/2000/01/rdf-schema#seeAlso> <http://dbpedia.org/resource/Iowa>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Iowa>;\n  <http://xmlns.com/foaf/0.1/name> \"Chadd Sporer\";\n  <http://xmlns.com/foaf/0.1/phone> \"+1-352-334-0992\" .\n\n<http://sample.com/resource/P3> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://www.w3.org/2000/01/rdf-schema#seeAlso> <http://dbpedia.org/resource/Alberta>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Alberta>;\n  <http://xmlns.com/foaf/0.1/name> \"Katharina Kuvalis\";\n  <http://xmlns.com/foaf/0.1/phone> \"(272) 642-0684\" .\n\n<http://sample.com/resource/P4> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://www.w3.org/2000/01/rdf-schema#seeAlso> <http://dbpedia.org/resource/Bock>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Bock>;\n  <http://xmlns.com/foaf/0.1/name> \"Wilhelmine Johns III\";\n  <http://xmlns.com/foaf/0.1/phone> \"574.747.4829\" .\n\n<http://sample.com/resource/P5> a <http://xmlns.com/foaf/0.1/Person>;\n  <http://www.w3.org/2000/01/rdf-schema#seeAlso> <http://dbpedia.org/resource/Elmhurst>;\n  <http://xmlns.com/foaf/0.1/based_near> <http://sample.com/resource/Elmhurst>;\n  <http://xmlns.com/foaf/0.1/name> \"Sofia Rowe\";\n  <http://xmlns.com/foaf/0.1/phone> \"+15204328362\" ."
}
