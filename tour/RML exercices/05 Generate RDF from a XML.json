{
    "builder": "RmlUnitBuilder",
    "description": "## Hands-on\r\n### Task\r\nGiven the XML with locations. Generate triples with class ***sch:Place*** and the data properties ***foaf:name***, ***onto:surface***, ***onto:population***, ***geo:lat*** and ***geo:long*** in order to achieve the expected results.\r\n### XML file content\r\n\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\t<locations>\r\n\t\t<place>\r\n\t\t\t<features>\r\n\t\t\t\t<population>\r\n\t\t\t\t\t<amount>1,812<\/amount>\r\n\t\t\t\t\t<date>2018<\/date>\r\n\t\t\t\t<\/population>\r\n\t\t\t\t<surface>\r\n\t\t\t\t\t<units>Km2<\/units>\r\n\t\t\t\t\t<value>90.16<\/value>\r\n\t\t\t\t<\/surface>\r\n\t\t\t<\/features>\r\n\t\t\t<location>\r\n\t\t\t\t<latitude>44.9625428<\/latitude>\r\n\t\t\t\t<longitude>-74.4168577<\/longitude>\r\n\t\t\t<\/location>\r\n\t\t\t<name>Oneonta<\/name>\r\n\t\t<\/place>\r\n\t\t...\r\n\t<\/locations>",
    "user_template": "@prefix rr: <http:\/\/www.w3.org\/ns\/r2rml#> .\r\n@prefix rml: <http:\/\/semweb.mmlab.be\/ns\/rml#> .\r\n@prefix ql: <http:\/\/semweb.mmlab.be\/ns\/ql#> .\r\n@prefix transit: <http:\/\/vocab.org\/transit\/terms\/> .\r\n@prefix xsd: <http:\/\/www.w3.org\/2001\/XMLSchema#> .\r\n@prefix foaf: <http:\/\/xmlns.com\/foaf\/0.1\/> .\r\n@prefix sch: <http:\/\/schema.org\/> .\r\n@prefix rdfs: <http:\/\/www.w3.org\/2000\/01\/rdf-schema#> .\r\n@prefix onto: <http:\/\/vocab.es\/schema#>.\r\n@prefix geo: <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#> .\r\n@base <http:\/\/example.com\/ns#> .\r\n\r\n<#TriplesMap> rml:logicalSource [\r\n\t\t\trml:source \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.xml\" ;\r\n\t\t\trml:referenceFormulation <http:\/\/semweb.mmlab.be\/ns\/ql#XPath> ;\r\n\t\t\trml:iterator \"\/locations\/place\"\r\n\t\t] .",
    "solution_template": "@prefix rr: <http:\/\/www.w3.org\/ns\/r2rml#> .\r\n@prefix rml: <http:\/\/semweb.mmlab.be\/ns\/rml#> .\r\n@prefix ql: <http:\/\/semweb.mmlab.be\/ns\/ql#> .\r\n@prefix transit: <http:\/\/vocab.org\/transit\/terms\/> .\r\n@prefix xsd: <http:\/\/www.w3.org\/2001\/XMLSchema#> .\r\n@prefix foaf: <http:\/\/xmlns.com\/foaf\/0.1\/> .\r\n@prefix sch: <http:\/\/schema.org\/> .\r\n@prefix rdfs: <http:\/\/www.w3.org\/2000\/01\/rdf-schema#> .\r\n@prefix onto: <http:\/\/vocab.es\/schema#>.\r\n@prefix geo: <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#> .\r\n@base <http:\/\/example.com\/ns#> .\r\n\r\n<#TriplesMap> rml:logicalSource [\r\n\t\t\trml:source \"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.json\" ;\r\n\t\t\trml:referenceFormulation <http:\/\/semweb.mmlab.be\/ns\/ql#JSONPath> ;\r\n\t\t\trml:iterator \"$.*\"\r\n\t\t] ;\r\n\t\trr:subjectMap [\r\n\t\t\trr:template \"http:\/\/sample.com\/resource\/{name}\" ;\r\n\t\t\trr:termType rr:IRI ;\r\n\t\t\trr:class sch:Place\r\n\t\t] ;\r\n\t\trr:predicateObjectMap [\r\n\t\t\trr:predicate  foaf:name ;\r\n\t\t\trr:objectMap [\r\n\t\t\t\trml:reference \"name\" ;\r\n\t\t\t\trr:termType rr:Literal ;\r\n\t\t\t]\r\n\t\t] ;\r\n\t\trr:predicateObjectMap [\r\n\t\t\trr:predicate  onto:surface ;\r\n\t\t\trr:objectMap [\r\n\t\t\t\trml:reference \"features.surface.value\" ;\r\n\t\t\t\trr:termType rr:Literal ;\r\n\t\t\t\trr:datatype xsd:double\r\n\t\t\t]\r\n\t\t] ;\r\n\t\trr:predicateObjectMap [\r\n\t\t\trr:predicate  onto:population ;\r\n\t\t\trr:objectMap [\r\n\t\t\t\trml:reference \"features.population.amount\" ;\r\n\t\t\t\trr:termType rr:Literal ;\r\n\t\t\t\trr:datatype xsd:double\r\n\t\t\t]\r\n\t\t] ;\r\n\t\trr:predicateObjectMap [\r\n\t\t\trr:predicate  geo:lat ;\r\n\t\t\trr:objectMap [\r\n\t\t\t\trml:reference \"location.latitude\" ;\r\n\t\t\t\trr:termType rr:Literal ;\r\n\t\t\t\trr:datatype xsd:double\r\n\t\t\t]\r\n\t\t] ;\r\n\t\trr:predicateObjectMap [\r\n\t\t\trr:predicate  geo:long ;\r\n\t\t\trr:objectMap [\r\n\t\t\t\trml:reference \"location.longitude\" ;\r\n\t\t\t\trr:termType rr:Literal ;\r\n\t\t\t\trr:datatype xsd:double\r\n\t\t\t]\r\n\t\t] .",
    "expected_result": "<http://sample.com/resource/Alberta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#population> \"1,242\"^^<http://www.w3.org/2001/XMLSchema#double>;\n  <http://vocab.es/schema#surface> 3.375E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.10816094E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -7.64098259E1;\n  <http://xmlns.com/foaf/0.1/name> \"Alberta\" .\n\n<http://sample.com/resource/Bock> a <http://schema.org/Place>;\n  <http://vocab.es/schema#population> \"52,657\"^^<http://www.w3.org/2001/XMLSchema#double>;\n  <http://vocab.es/schema#surface> 7.374E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.16908535E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -8.59562663E1;\n  <http://xmlns.com/foaf/0.1/name> \"Bock\" .\n\n<http://sample.com/resource/Elmhurst> a <http://schema.org/Place>;\n  <http://vocab.es/schema#population> \"5,199\"^^<http://www.w3.org/2001/XMLSchema#double>;\n  <http://vocab.es/schema#surface> 1.342E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 3.14199205E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -1.099103821E2;\n  <http://xmlns.com/foaf/0.1/name> \"Elmhurst\" .\n\n<http://sample.com/resource/Iowa> a <http://schema.org/Place>;\n  <http://vocab.es/schema#population> \"133,611\"^^<http://www.w3.org/2001/XMLSchema#double>;\n  <http://vocab.es/schema#surface> 1.672E2;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 2.96862705E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -8.2319746E1;\n  <http://xmlns.com/foaf/0.1/name> \"Iowa\" .\n\n<http://sample.com/resource/Oneonta> a <http://schema.org/Place>;\n  <http://vocab.es/schema#population> \"1,812\"^^<http://www.w3.org/2001/XMLSchema#double>;\n  <http://vocab.es/schema#surface> 9.016E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#lat> 4.49625428E1;\n  <http://www.w3.org/2003/01/geo/wgs84_pos#long> -7.44168577E1;\n  <http://xmlns.com/foaf/0.1/name> \"Oneonta\" ."
}
