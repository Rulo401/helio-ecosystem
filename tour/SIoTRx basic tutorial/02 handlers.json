{
    "description": "## Theory\r\n***Handlers*** are the second extension of SIoTRx over FreeMarker. They allow you to filter data using expressions associated with a format.\r\n\r\nThey are used by assigning the return of the ***handlers***( *type*) function to a variable . After that, the variable's ***filter***( *expression*, *data*) function can be used to filter the *data* using an *expression*.\r\n```\r\n<#assign handler=handlers(\"type\")>\r\n[=handler.filter(\"expression\",data)]\r\n```\r\nHandlers can be used to parse data from Jsons or Xml files. Despite they can handle csv formatting, it is more efficient to use string splitting.\r\n\r\nVisit the [Helio Developers GUI](https:\/\/helio-dev.linkeddata.es\/marketplace) in order to find all the handler types.\r\n## Hands-on\r\n### Task\r\nOnce the access to the file content is granted by the provider, use the handler to retrieve each location fragment in a list using the filter function. After that, print each location name using the format {\"name\" : \"*location_name*\"} as if it were a JSON file.\r\n### JSON file content\r\n\r\n    [\r\n\t    {\r\n\t\t    \"name\": \"Oneonta\",\r\n\t\t    \"surface\": \"90.16\",\r\n\t\t    \"population\": \"1812\",\r\n\t\t    \"latitude\": \"44.9625428\",\r\n\t\t    \"longitude\": \"-74.4168577\"\r\n\t\t},\r\n\t\t{\r\n\t\t    \"name\": \"Iowa\",\r\n\t\t    \"surface\": \"167.2\",\r\n\t\t    \"population\": \"133611\",\r\n\t\t    \"latitude\": \"29.6862705\",\r\n\t\t    \"longitude\": \"-82.319746\"\r\n\t\t}, \r\n\t\t...\r\n\t]",
    "user_template": "<#-- Provider -->\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/01%20_SIoTRx_basic_tutorial\/locations.json\\\"}\">\r\n<#assign location=providers(\"URLProvider\", locationsURL)>\r\n\r\n<#-- Handler -->\r\n<#assign jpath=handlers(\"JsonHandler\")>\r\n\r\n[\r\n<#-- WRITE BELOW -->\r\n\r\n]",
    "solution_template": "<#-- Provider -->\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/01%20_SIoTRx_basic_tutorial\/locations.json\\\"}\">\r\n<#assign location=providers(\"URLProvider\", locationsURL)>\r\n\r\n<#-- Handler -->\r\n<#assign jpath=handlers(\"JsonHandler\")>\r\n\r\n[\r\n<#-- WRITE BELOW -->\r\n<#list jpath.filter(\"$.*\",location) as fragment>\r\n{\"name\" : \"[=jpath.filter(\"$.name\",fragment)]\"}<#sep>, <\/#sep>\r\n<\/#list>\r\n]",
    "expected_result": "[\r\n{\"name\" : \"Oneonta\"}, \r\n{\"name\" : \"Iowa\"}, \r\n{\"name\" : \"Alberta\"}, \r\n{\"name\" : \"Bock\"}, \r\n{\"name\" : \"Elmhurst\"}\r\n]"
}
