{
    "builder": "SIoTRxBuilder",
    "description": "## Hands-on\r\n### Task\r\nGiven the JSON with locations in the provider. Generate triples with class ***sch:Place*** and the data properties ***foaf:name***, ***onto:surface***, ***onto:population***, ***geo:lat*** and ***geo:long*** in order to achieve the expected results.\r\n### JSON file content\r\n    [\r\n\t  {\r\n\t    \"name\": \"Oneonta\",\r\n\t    \"features\": {\r\n\t\t    \"surface\": {\r\n\t\t        \"value\": 90.16,\r\n\t\t        \"units\": \"Km2\"\r\n\t\t    },\r\n\t\t    \"population\": {\r\n\t\t        \"amount\": \"1,812\",\r\n\t\t        \"date\": 2018\r\n\t\t    }\r\n\t    },\r\n\t    \"location\": {\r\n\t\t    \"latitude\": \"44.9625428\",\r\n\t\t    \"longitude\": \"-74.4168577\"\r\n\t    }\r\n\t  },\r\n\t  {\r\n\t    \"name\": \"Iowa\",\r\n\t    \"features\": {\r\n\t\t    \"surface\": {\r\n\t\t        \"value\": 167.2,\r\n\t\t        \"units\": \"Km2\"\r\n\t\t    },\r\n\t\t    \"population\": {\r\n\t\t        \"amount\": \"133,611\",\r\n\t\t        \"date\": 2020\r\n\t\t    }\r\n\t    },\r\n\t    \"location\": {\r\n\t\t\t\"latitude\": \"29.6862705\",\r\n\t\t    \"longitude\": \"-82.319746\"\r\n\t    }\r\n\t  }...\r\n\t]\r\n",
    "user_template": "<#assign jpath=handlers(\"JsonHandler\")>\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.json\\\"}\">\r\n<#assign locations=providers(\"URLProvider\", locationsURL)>\r\n<#-- WRITE BELOW -->",
    "solution_template": "<#assign jpath=handlers(\"JsonHandler\")>\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.json\\\"}\">\r\n<#assign locations=providers(\"URLProvider\", locationsURL)>\r\n<#-- WRITE BELOW -->\r\n<#list jpath.filter(\"$.*\",locations) as location>\r\n<http:\/\/sample.com\/resource\/[=jpath.filter(\"name\",location)]> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"[=jpath.filter(\"features.population.amount\",location)]\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> [=jpath.filter(\"features.surface.value\",location)];\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> [=jpath.filter(\"location.latitude\",location)];\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> [=jpath.filter(\"location.longitude\",location)];\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"[=jpath.filter(\"name\",location)]\" .<#sep>\r\n\r\n<\/#sep>\r\n<\/#list>",
    "expected_result": "<http:\/\/sample.com\/resource\/Oneonta> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"1,812\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 90.16;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 44.9625428;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -74.4168577;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Oneonta\" .\r\n\r\n<http:\/\/sample.com\/resource\/Iowa> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"133,611\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 167.2;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 29.6862705;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -82.319746;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Iowa\" .\r\n\r\n<http:\/\/sample.com\/resource\/Alberta> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"1,242\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 33.75;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 41.0816094;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -76.4098259;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Alberta\" .\r\n\r\n<http:\/\/sample.com\/resource\/Bock> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"52,657\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 73.74;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 41.6908535;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -85.9562663;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Bock\" .\r\n\r\n<http:\/\/sample.com\/resource\/Elmhurst> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"5,199\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 13.42;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 31.4199205;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -109.9103821;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Elmhurst\" ."
}
