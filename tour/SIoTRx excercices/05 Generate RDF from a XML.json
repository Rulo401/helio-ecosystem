{
    "builder": "SIoTRxBuilder",
    "description": "## Hands-on\r\n### Task\r\nGiven the XML with locations in the provider. Generate triples with class ***sch:Place*** and the data properties ***foaf:name***, ***onto:surface***, ***onto:population***, ***geo:lat*** and ***geo:long*** in order to achieve the expected results.\r\n### XML file content\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\t<locations>\r\n\t\t<place>\r\n\t\t\t<features>\r\n\t\t\t\t<population>\r\n\t\t\t\t\t<amount>1,812<\/amount>\r\n\t\t\t\t\t<date>2018<\/date>\r\n\t\t\t\t<\/population>\r\n\t\t\t\t<surface>\r\n\t\t\t\t\t<units>Km2<\/units>\r\n\t\t\t\t\t<value>90.16<\/value>\r\n\t\t\t\t<\/surface>\r\n\t\t\t<\/features>\r\n\t\t\t<location>\r\n\t\t\t\t<latitude>44.9625428<\/latitude>\r\n\t\t\t\t<longitude>-74.4168577<\/longitude>\r\n\t\t\t<\/location>\r\n\t\t\t<name>Oneonta<\/name>\r\n\t\t<\/place>\r\n\t\t...\r\n\t<\/locations>",
    "user_template": "<#assign xpath=handlers(\"XmlHandler\")>\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.xml\\\"}\">\r\n<#assign locations=providers(\"URLProvider\", locationsURL)>\r\n<#-- WRITE BELOW -->",
    "solution_template": "<#assign xpath=handlers(\"XmlHandler\")>\r\n<#assign locationsURL = \"{\\\"url\\\" : \\\"https:\/\/raw.githubusercontent.com\/helio-ecosystem\/helio-ecosystem\/main\/resources\/mappings-data\/ldac\/nested_locations1.xml\\\"}\">\r\n<#assign locations=providers(\"URLProvider\", locationsURL)>\r\n<#-- WRITE BELOW -->\r\n<#list xpath.filter(\"\/locations\/place\",locations) as location>\r\n<http:\/\/sample.com\/resource\/[=xpath.filter(\"place\/name\/text()\",location)]> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"[=xpath.filter(\"place\/features\/population\/amount\/text()\",location)]\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> [=xpath.filter(\"place\/features\/surface\/value\/text()\",location)];\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> [=xpath.filter(\"place\/location\/latitude\/text()\",location)];\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> [=xpath.filter(\"place\/location\/longitude\/text()\",location)];\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"[=xpath.filter(\"place\/name\/text()\",location)]\" .<#sep>\r\n\r\n<\/#sep>\r\n<\/#list>",
    "expected_result": "<http:\/\/sample.com\/resource\/Oneonta> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"1,812\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 90.16;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 44.9625428;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -74.4168577;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Oneonta\" .\r\n\r\n<http:\/\/sample.com\/resource\/Iowa> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"133,611\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 167.2;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 29.6862705;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -82.319746;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Iowa\" .\r\n\r\n<http:\/\/sample.com\/resource\/Alberta> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"1,242\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 33.75;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 41.0816094;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -76.4098259;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Alberta\" .\r\n\r\n<http:\/\/sample.com\/resource\/Bock> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"52,657\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 73.74;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 41.6908535;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -85.9562663;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Bock\" .\r\n\r\n<http:\/\/sample.com\/resource\/Elmhurst> a <http:\/\/schema.org\/Place>;\r\n  <http:\/\/vocab.es\/schema#population> \"5,199\"^^<http:\/\/www.w3.org\/2001\/XMLSchema#double>;\r\n  <http:\/\/vocab.es\/schema#surface> 13.42;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#lat> 31.4199205;\r\n  <http:\/\/www.w3.org\/2003\/01\/geo\/wgs84_pos#long> -109.9103821;\r\n  <http:\/\/xmlns.com\/foaf\/0.1\/name> \"Elmhurst\" ."
}
